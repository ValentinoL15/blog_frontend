<div class="card-wrapper">
    @for (blog of blogs; track blog.blog_id) {
    <mat-card class="card-container" appearance="outlined">
        @if (mostrarAcciones) {
        <div class="buttons">
            <button class="btn btn-outline-success" [routerLink]="['/editar/', blog.blog_id]">editar</button>
            <button class="btn btn-outline-danger" (click)="deleteBlog(blog.blog_id)">eliminar</button>
        </div>
        }

        <mat-card-header class="card-header">
            <mat-card-title>{{ blog.titulo }}</mat-card-title>
            <mat-card-subtitle>{{ blog.etiqueta }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <p [ngClass]="{ 'clamp-text': !isExpanded(blog.blog_id) }">
                {{ blog.contenido }}
            </p>
            <button mat-icon-button (click)="toggleExpanded(blog.blog_id)">
                <mat-icon>{{ isExpanded(blog.blog_id) ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
        </mat-card-content>

        <mat-card-actions class="card-actions">
            <p>Publicado: <strong>{{ blog.fecha_lanzamiento | date }}</strong></p>
            <p>Creador: <strong>{{ blog.autor.username }}</strong></p>
        </mat-card-actions>
    </mat-card>
    }
</div>